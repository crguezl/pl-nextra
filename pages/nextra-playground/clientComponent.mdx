import ClientComponent from '@/components/clientComponent'

## Code

````mdx 
import ClientComponent from '@/components/clientComponent'

## View Page

This is a regular Nextra page with Markdown content.

## Client Component Example

<ClientComponent />
````
The code of the `ClientComponent` is shown below:

```jsx
'use client'

import { useState, useEffect } from 'react'

const catURL=  "https://api.thecatapi.com/v1/images/search?size=full"
const fetcher = () => fetch(catURL).then((res) => res.json())

async function fetchData() {
  // Simulate an API call
  let cat = await fetcher()
  return cat[0]
}

function DataFetcher() {
  const [data, setData] = useState(null)

  useEffect(() => {
    setData(await fetchData()) //.then(setData)
  }, [])

  if (!data) return null

  return <img src={data.url} width={data.width} height={data.height} />
}

export default function ClientComponent() {
  return (  
    <div>
      <h2>Client Component Example</h2>
      <DataFetcher />
    </div>
  )
}
```

## View Page

This is a regular Nextra page with Markdown content.

## Client Component Example

<ClientComponent />

## useEffect hook

`useEffect` is a Hook in React that allows you to perform side effects in function components. 
Side effects can include 
- data fetching, 
- subscriptions, or 
- manually changing the DOM. 

### Basic Syntax

```javascript
useEffect(() => {
  // Side effect code
  return () => {
    // Clean up code (optional)
  };
}, [dependencies]);
```


1. The first argument is a function that contains the side effect code.
2. The return function is for cleanup (optional).
3. The second argument is an array of dependencies (optional).

### Key points to remember about `useEffect`

- Effects **run after every render** by default. Specifying a **dependency array** allows you to control when the effect runs.
- The **cleanup function** (returned by the effect) runs **before the component unmounts** and before the effect runs again on re-renders.
- If you're using an object or function as a dependency, be careful about recreating it on every render, as this can cause unnecessary effect runs.
- Avoid updating state in an effect without a dependency array, as this can cause infinite loops.
